---
title: 声明式语法和命令式语法的区别
date: 2023-11-07 15:57:06
tags:
---
声明式语法和命令式语法是编程中描述软件逻辑的两种不同风格。它们在定义程序如何和应该做什么方面有本质的不同。

### 声明式语法（Declarative Syntax）

在声明式编程中，你描述**“你想要什么”**（What you want），而不是你要如何达到目的（How you achieve it）。你定义了目标状态，而具体的实现细节则通常由框架、库或系统自己处理。

**特点**:
- **抽象层次更高**：更加关注描述问题的逻辑，而不是实现的步骤。
- **易于推理**：由于直接表达了目的，因此通常代码更简洁，逻辑更清晰。
- **减少副作用**：代码通常没有临时变量和迭代，从而减少了意外修改状态的风险。
- **改善可维护性**：因为代码量减少且更加直观，所以通常更易于维护。
- **例子**：SQL（描述你想要查询什么数据，而不是如何查询数据）、React和SwiftUI（描述UI应该如何根据数据状态显示，而不是如何修改UI）。

### 命令式语法（Imperative Syntax）

命令式编程关注**“你如何做”**（How you do it），需要提供达成目标的详细步骤。这通常涉及到编写更多的逻辑来手动处理状态的变化和应用的流程。

**特点**:
- **控制流程明确**：详细指定了执行顺序和逻辑流程。
- **具体化操作**：每一步都需要程序员明确指定。
- **灵活性高**：因为可以控制每一步，所以在处理复杂逻辑时可能更具优势。
- **例子**：大多数传统的编程语言如C、Java在处理UI时倾向于命令式风格，明确指定每一步如何创建和管理UI元素。

### 对比示例

假设我们要更改一个列表的所有元素，使其翻倍。

**声明式（SwiftUI风格）**:
```swift
let numbers = [1, 2, 3, 4, 5]
let doubledNumbers = numbers.map { $0 * 2 }
```
这里我们没有指定如何遍历数字，如何存储结果。我们只是描述了对每个元素想做的操作。

**命令式（传统的C风格）**:
```c
int numbers[] = {1, 2, 3, 4, 5};
int doubledNumbers[sizeof(numbers)/sizeof(numbers[0])];

for (int i = 0; i < sizeof(numbers)/sizeof(numbers[0]); i++) {
    doubledNumbers[i] = numbers[i] * 2;
}
```
这里我们具体指定了创建数组、循环的开始和结束条件，以及如何在每一次循环中翻倍当前元素。

在UI开发中，声明式语法让状态和UI的同步变得更简单，因为UI框架（如SwiftUI）会负责监听数据变化并更新UI，而不需要开发者编写代码来手动操作DOM或视图元素。